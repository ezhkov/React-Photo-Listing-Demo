(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,t,a){e.exports=a(316)},173:function(e,t,a){},217:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){},238:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(9),i=a(36),c=a(43),s=(a(171),a(159)),l=a(63),u=a(124),p=a(147),h=a(88),m=a(69),d=a(38),f=a(322),g=a(98),E=a(13),b=a(148),v=(a(173),Object(b.a)(function(e){var t=e.history,a=e.lastLocation;return!!a&&n.a.createElement(g.a,{className:"btn-back",type:"default",onClick:function(){t.push(a.pathname)}},n.a.createElement(E.a,{type:"left"}),"Go back")})),_=Object(l.withLastLocation)(v),O=a(72),y="".concat("https://api.unsplash.com","/me"),N="https://unsplash.com/oauth/token",C="".concat("/React-Photo-Listing-Demo","/ava-placeholder.jpg"),S="https://api.unsplash.com/search/photos",j="https://unsplash.com/oauth/authorize?redirect_uri=".concat("https://psywalker.github.io/React-Photo-Listing-Demo/profile","&response_type=code&scope=public+read_user+write_user+read_photos+write_likes+write_photos+write_followers+read_collections+write_collections&client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"),T=function(e){return"".concat("https://api.unsplash.com/","photos/").concat(e.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},w=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e.params.id,"?client_id=").concat("bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5")},I=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e,"/likes")},L=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e,"/photos")},x=function(e){return"".concat("https://api.unsplash.com/","users/").concat(e,"/statistics")},A={highchartsDownloadsConfig:{title:"My Downloads",seriesName:"Downloads",colors:"rgba(255, 0, 255, .5)"},highchartsViewsConfig:{title:"My Views",seriesName:"Views",colors:"rgba(255, 165, 0, .5)"},highchartsLikesConfig:{title:"My Likes",seriesName:"Likes",colors:"rgba(0, 255, 0, .5)"}},P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],R={legend:{layout:"vertical",align:"right",verticalAlign:"middle"},responsive:{rules:[{condition:{maxWidth:700},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}},k=function(){return{type:"LOGOUT"}},D=(a(217),f.a.Header),V=Object(b.a)(Object(r.memo)(function(e){var t=e.history,a=e.profileName,r=e.profilePhotoUrl,o=e.logoutAction;return n.a.createElement("div",{className:"header-app"},n.a.createElement(D,{className:"user-layout__header"},n.a.createElement("div",{className:"page"},n.a.createElement(m.a,{type:"flex",justify:"space-between"},n.a.createElement(d.a,{span:9,style:{whiteSpace:"nowrap"}},n.a.createElement(O.a,{to:"/",style:{display:"inline-block"}},n.a.createElement(E.a,{component:function(){return n.a.createElement("img",{className:"user__icon-home",alt:"/unsplash.com",src:"../logo.svg"})}})),n.a.createElement(h.a,{path:"/:id",component:function(){return n.a.createElement(_,{style:{marginLeft:"10px"}})}}),!a&&n.a.createElement(g.a,{style:{marginLeft:"10px"},href:j},"Login"),a&&n.a.createElement("span",null,n.a.createElement(g.a,{className:"btn-logout",style:{marginLeft:"10px"},onClick:function(){o(),window.localStorage.clear(),t.push("/")}},"Logout"))),n.a.createElement(d.a,{span:3,style:{display:"flex",justifyContent:"flex-end"}},a&&n.a.createElement(O.a,{to:"/profile"},n.a.createElement(E.a,{component:function(){return n.a.createElement("img",{className:"user-avatar",alt:"",src:"".concat(r)})}})))))))}));V.defaultProps={history:{},logoutAction:function(){},profilePhotoUrl:"",profileName:"",profileEmail:"",fetching:!1};var U={logoutAction:k},q=Object(l.withLastLocation)(Object(i.b)(function(e){return e.login},U)(V)),H=a(1),F=a.n(H),G=a(323),M=(a(222),Object(r.memo)(function(e){var t=e.onFilterItemValue,a=e.label,r=e.filterValue,o=e.itemId,i=e.navTopItemActive;return n.a.createElement(G.a,{color:"".concat(o===i?"purple":""),onClick:function(){return t(r,o)}},a)}));M.propTypes={label:F.a.string,filterValue:F.a.string,onFilterItemValue:F.a.func,itemId:F.a.number,navTopItemActive:F.a.number},M.defaultProps={itemId:0,navTopItemActive:0,label:"",filterValue:"",onFilterItemValue:function(){}};var Q=M,Y=a(324),z=a(318),W=a(321),J=(a(223),Y.a.Meta),B=Object(r.memo)(function(e){var t=e.tags,a=e.photoName,r=e.photoDesc,o=e.title,i=e.photoID,c=e.userID,s=e.userAvatar,l=e.onSearchTagValue;return n.a.createElement("div",{className:"photo-card-self"},n.a.createElement(Y.a,{style:{width:"100%"},cover:n.a.createElement(O.a,{className:"photo-card__photo-link",to:"/photo/".concat(i)},n.a.createElement("img",{className:"photo-card__img",alt:"example",src:a}))},o&&n.a.createElement(O.a,{className:"photo-card-self__link-ava",to:"/users/".concat(c)},n.a.createElement(J,{avatar:n.a.createElement(z.a,{src:s}),title:o})),n.a.createElement("p",{className:"photo-card-self__desc"},"".concat(r||"No Description")),n.a.createElement("div",{className:"photo-card-self__badge-wrap"},t.map(function(e,t){return t<3?n.a.createElement(G.a,{key:e.title,onClick:function(){return l(e.title,"tags")},className:"photo-card-self__badge"},e.title):null}),t.length>3&&n.a.createElement(W.a,{placement:"top",title:"Remaining tags",content:n.a.createElement("div",null,t.map(function(e,t){return t>2?n.a.createElement(G.a,{key:e.title,onClick:function(){return l(e.title,"tags")},className:"photo-card-self__badge"},e.title):null})),trigger:"click"},n.a.createElement(G.a,{className:"photo-card-self__badge"},"more tags...")))))});B.defaultProps={photoName:"",photoDesc:"",title:"Noname",tags:[],userAvatar:"",photoID:"",userID:"",onSearchTagValue:function(){}};var X=B,K=a(29),$=a(30),Z=a(32),ee=a(31),te=a(33),ae=a(320),re=a(94),ne=a.n(re),oe=(a(235),ae.a.Search),ie=function(e){function t(){var e,a;Object(K.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(a=Object(Z.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).componentDidUpdate=function(e){var t=a.props.queryText;e.queryText!==t&&a.setState({inputValue:t})},a.onChangeDebounced=ne()(function(e){(0,a.props.onChangeInputValue)(e)},500),a.submitSearch=function(){var e=a.state.inputValue,t=a.props.onSearchInputValue;e&&t(e)},a.handleInputChange=function(e){a.setState({inputValue:e.target.value},function(){var e=a.state.inputValue;a.onChangeDebounced(e)})};var i=a.props.queryText;return a.state={inputValue:i},a}return Object(te.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.state.inputValue;return n.a.createElement("div",{className:"search"},n.a.createElement(oe,{className:"search__input",value:e,placeholder:"Wallpapers",onChange:this.handleInputChange,onPressEnter:this.submitSearch,onSearch:this.submitSearch,style:{width:"100%"}}))}}]),t}(r.PureComponent);ie.defaultProps={queryText:"",onSearchInputValue:function(){},onChangeInputValue:function(){}};var ce=ie,se=(a(236),Object(r.memo)(function(){return n.a.createElement("div",{className:"site-spinner"},n.a.createElement("div",{className:"lds-ring"},n.a.createElement("div",null,"\xa0"),n.a.createElement("div",null,"\xa0"),n.a.createElement("div",null,"\xa0"),n.a.createElement("div",null,"\xa0")))})),le=a(319),ue=(a(237),a(238),function(e){function t(){var e,a;Object(K.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).componentDidUpdate=function(e){var t=a.props,r=t.cardsData,n=t.cardsPhotosRequestAction;e.cardsData!==r&&n(r)},a.componentDidMount=function(){a.handleCardsPhotos()},a.handleCardsPhotos=function(){var e=a.props,t=e.cardsData;(0,e.cardsPhotosRequestAction)(t)},a.handlePaginationChange=function(e){(0,a.props.paginationChangeAction)(e)},a.handleFilterItemValue=function(e,t){(0,a.props.filterItemValueAction)(e,t)},a.handleSearchText=function(e,t){(0,a.props.searchTextAction)(e,t)},a.handleChangeInputValue=function(e){(0,a.props.searchChangeInputValueAction)(e)},a}return Object(te.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.filters,r=t.isListingLoading,o=t.cards,i=t.totalCards,c=t.cardsData,s=t.navTopItemActive;return t.photolistingRequestError?n.a.createElement("div",null,"Error loading photolisting"):n.a.createElement("div",{className:"App"},r&&n.a.createElement(se,{className:"spinner"}),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement(ce,{onSearchInputValue:this.handleSearchText,onChangeInputValue:this.handleChangeInputValue,queryText:c.query}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},n.a.createElement("ul",{className:"nav-top"},a.map(function(t){return n.a.createElement("li",{key:t.id,className:"nav-top__item ".concat(t.border?"nav-top__item_border-right":"")},n.a.createElement(Q,{navTopItemActive:s,itemId:t.id,onFilterItemValue:e.handleFilterItemValue,key:t.id,label:t.label,filterValue:t.filterValue}))})))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12"},!r&&n.a.createElement("ul",{className:"photo-list"},o.map(function(t){return n.a.createElement("li",{key:t.id,className:"photo-list__item pl-3"},n.a.createElement(X,{photoName:t.urls.regular,photoDesc:t.description,title:t.user.first_name,tags:t.tags,photoID:t.id,userID:t.user.username,userAvatar:t.user.profile_image.small,onSearchTagValue:e.handleSearchText}))})),!i&&n.a.createElement("h2",{className:"cards__text-empty pl-3"},"No images were found for your request. Try to find more."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 pagination"},i>c.per_page&&n.a.createElement(le.a,{className:"ml-3",showSizeChanger:!0,onChange:this.handlePaginationChange,current:c.page,defaultCurrent:1,total:i}))))}}]),t}(r.PureComponent));ue.defaultProps={cardsPhotosRequestAction:function(){},paginationChangeAction:function(){},filterItemValueAction:function(){},searchTextAction:function(){},searchChangeInputValueAction:function(){},filters:[],isListingLoading:!1,cards:[],cardsData:{query:"wallpapers",page:1,per_page:6},totalCards:10,navTopItemActive:2,photolistingRequestError:!1};var pe={cardsPhotosRequestAction:function(e){return{type:"CARDS_PHOTOS_FETCHING",isListingLoading:!0,cardsData:e}},paginationChangeAction:function(e){return{type:"PAGINATION_CHANGE",page:e}},filterItemValueAction:function(e,t){return{type:"FILTER_ITEM_VALUE",itemText:e,itemId:t}},searchTextAction:function(e,t){return{type:"SEARCH_TEXT",tags:t,text:e}},searchChangeInputValueAction:function(e){return{type:"SEARCH_TEXT_CHANGE_INPUT_VALUE",text:e}}},he=Object(i.b)(function(e){return e.photolisting},pe)(ue),me=(a(248),Y.a.Meta),de=Object(r.memo)(function(e){var t=e.match,a=e.photoRequestAction,r=e.isPhotoLoading,o=e.requestError,i=e.photoSrc,c=e.photoDesc,s=e.userNic,l=e.userPortfolioUrl;return console.log("1:: ",t),a(t),n.a.createElement("div",{className:"photo-container photo"},r&&n.a.createElement(se,{className:"spinner"}),!r&&!o&&n.a.createElement(Y.a,{style:{width:"100%"},cover:n.a.createElement("img",{className:"photo__img",alt:"example",src:i})},n.a.createElement(me,{className:"photo__desc",title:"".concat(c||"No title")}),n.a.createElement(O.a,{to:"/users/".concat(s)},n.a.createElement("p",{className:"photo__autor-page-link"},"Autor's page link")),n.a.createElement("a",{className:"photo__autor-link",href:l},"Autor's portfolio link")),!r&&o&&n.a.createElement("p",null,"\u0422\u0430\u043a\u043e\u0435 \u0444\u043e\u0442\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."," ",n.a.createElement(O.a,{to:"/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e.")))});de.defaultProps={photoRequestAction:function(){},isPhotoLoading:!0,photoSrc:null,userNic:"UserNic",userPortfolioUrl:"",photoDesc:"",requestError:!1,match:{},history:{}};var fe={photoRequestAction:function(e){return{type:"PHOTO_FETCHING",isPhotoLoading:!0,match:e}}},ge=Object(i.b)(function(e){return e.photo},fe)(de),Ee=(a(249),function(e){function t(){var e,a;Object(K.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){a.props.profilePhotoUrl||(0,a.props.loadingRequestAction)(window.document.location)},a.handleLoguotProfile=function(){var e=a.props,t=e.history;(0,e.logoutAction)(),window.localStorage.clear(),t.push("/")},a}return Object(te.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fetching,a=e.loginError,r=e.profilePhotoUrl,o=e.profileFullName,i=e.profileEmail,c=e.profileName;return n.a.createElement("div",{className:"profile"},t&&n.a.createElement(se,{className:"spinner"}),!t&&!a&&n.a.createElement("div",{className:"profile__content profile-content"},n.a.createElement("img",{className:"profile-content__avatar",src:r,alt:"Profile avatar"}),n.a.createElement("div",{className:"profile-content__title-wrap"},n.a.createElement("h2",{className:"profile-content__title"},o),n.a.createElement("p",null,i),n.a.createElement("p",{className:"profile-content__text"},"Download free, beautiful high-quality photos curated by"," ",c))),!t&&a&&n.a.createElement("p",null,"\u041f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0437\u0436\u0435!"," ",n.a.createElement(O.a,{to:"/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e.")))}}]),t}(r.PureComponent));Ee.defaultProps={logoutAction:function(){},loadingRequestAction:function(){},profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1,history:{}};var be={loadingRequestAction:function(e){return{type:"LOGIN_FETCHING",fetching:!0,location:e}},logoutAction:k},ve=Object(i.b)(function(e){return e.login},be)(Ee),_e=a(122),Oe=a(27),ye=a.n(Oe),Ne=a(17),Ce=a.n(Ne),Se=(a(304),_e.a.TabPane),je=function(e){function t(){var e,a;Object(K.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){a.handleUserQuery()},a.handleUserQuery=function(){var e=a.props,t=e.match,r=e.history;a.setState({isListingLoading:!0});var n=w(t);ye.a.get(n).then(function(e){var t=Ce()(e,"data.profile_image.large")||"No User Photo",r=Ce()(e,"data.photos[0].urls.regular")||"No Photo";a.setState({isListingLoading:!1,userPhoto:t,userFirstPhoto:r})}).catch(function(){r.push("/")})},a.state={isListingLoading:!1,userPhoto:"",userFirstPhoto:""},a}return Object(te.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.state,t=e.isListingLoading,a=e.userPhoto,r=e.userFirstPhoto,o=this.props.match;return console.log("6: ",this.props),n.a.createElement("div",{className:"user-container"},t&&n.a.createElement(se,null),n.a.createElement(m.a,{style:{display:"flex",justifyContent:"center"}},n.a.createElement(d.a,null,n.a.createElement("img",{className:"user-card__first-img",alt:"example",src:r}),n.a.createElement("div",{className:"user-card__photo-wrap"},n.a.createElement(z.a,{size:150,src:a})))),n.a.createElement(m.a,{style:{display:"flex",justifyContent:"center",overflow:"hidden"}},n.a.createElement(d.a,null,n.a.createElement("div",{className:"user-tabs"},n.a.createElement(_e.a,{className:"user-tabs__item",defaultActiveKey:"1"},n.a.createElement(Se,{tab:"My photos",key:"1",className:"user-tabs__pane"},n.a.createElement(xe,{userId:o.params.id})),n.a.createElement(Se,{tab:"My likes",key:"2",className:"user-tabs__pane"},n.a.createElement(Ie,{userId:o.params.id})),n.a.createElement(Se,{tab:"My statistic",key:"3",className:"user-tabs__pane"},n.a.createElement(De,{userId:o.params.id})))))))}}]),t}(r.PureComponent);je.defaultProps={history:{},match:{}};var Te=je,we=(a(305),function(e){function t(){var e,a;Object(K.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){a.handleUserLikesPhotosQuery()},a.handlePaginationChange=function(e){a.setState({page:e,per_page:6},a.handleUserLikesPhotosQuery)},a.handleUserLikesPhotosQuery=function(){var e=a.props,t=e.history,r=e.userId,n=a.state,o=n.page,i=n.per_page;a.setState({isListingLoading:!0});var c=I(r);ye.a.get(c,{params:{page:o,perPage:i,client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}).then(function(e){var t=Ce()(e,"data")||[],r=parseInt(Ce()(e,'headers["x-total"]'),10)||10;a.setState({cards:t,isListingLoading:!1,totalCards:r})}).catch(function(){t.push("/")})},a.state={isListingLoading:!1,cards:[],totalCards:10,page:1,per_page:6},a}return Object(te.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isListingLoading,r=t.cards,o=t.totalCards,i=t.page,c=t.per_page;return n.a.createElement("div",null,a&&n.a.createElement(se,null),n.a.createElement("div",null,n.a.createElement(m.a,{justify:"center",style:{margin:"20px 0"}},n.a.createElement(d.a,{span:24},!a&&n.a.createElement("ul",{className:"photo-list user-photos"},r.map(function(t){return n.a.createElement("li",{key:t.id,className:"photo-list__item pl-3"},n.a.createElement(X,{photoName:t.urls.regular,title:"",tags:t.photo_tags,photoID:t.id,userID:t.user.username,userAvatar:t.user.profile_image.small,onSearchTagValue:e.handleSearchText}))})))),n.a.createElement(m.a,{justify:"center",style:{display:"flex",justifyContent:"center"}},n.a.createElement(d.a,{style:{display:"flex",justifyContent:"center"}},o>c&&n.a.createElement(le.a,{className:"ml-3 mb-5",onChange:this.handlePaginationChange,showSizeChanger:!0,current:i,defaultCurrent:1,total:o})))))}}]),t}(r.PureComponent));we.defaultProps={history:{},userId:""};var Ie=we,Le=(a(306),function(e){function t(){var e,a;Object(K.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){a.handleUserPhotoListingQuery()},a.handlePaginationChange=function(e){a.setState({page:e,per_page:6},a.handleUserPhotoListingQuery)},a.handleUserPhotoListingQuery=function(){var e=a.props,t=e.history,r=e.userId,n=a.state,o=n.page,i=n.per_page;a.setState({isListingLoading:!0});var c=L(r);ye.a.get(c,{params:{page:o,perPage:i,client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}}).then(function(e){var t=Ce()(e,"data")||[],r=parseInt(Ce()(e,'headers["x-total"]'),10)||10;a.setState({cards:t,isListingLoading:!1,totalCards:r})}).catch(function(){t.push("/")})},a.state={isListingLoading:!1,cards:[],totalCards:10,page:1,per_page:6},a}return Object(te.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isListingLoading,r=t.cards,o=t.totalCards,i=t.page,c=t.per_page;return n.a.createElement("div",null,a&&n.a.createElement(se,{className:"spinner"}),n.a.createElement("div",null,n.a.createElement(m.a,{justify:"center",style:{margin:"20px 0"}},n.a.createElement(d.a,{span:24},!a&&n.a.createElement("ul",{className:"photo-list user-photos "},r.map(function(t){return n.a.createElement("li",{key:t.id,className:"photo-list__item pl-3"},n.a.createElement(X,{photoName:t.urls.regular,title:"",tags:t.photo_tags,photoID:t.id,userID:t.user.username,userAvatar:t.user.profile_image.small,onSearchTagValue:e.handleSearchText}))})))),n.a.createElement(m.a,{justify:"center",style:{display:"flex",justifyContent:"center"}},n.a.createElement(d.a,{style:{display:"flex",justifyContent:"center"}},o>c&&n.a.createElement(le.a,{className:"ml-3 mb-5",onChange:this.handlePaginationChange,showSizeChanger:!0,current:i,defaultCurrent:1,total:o})))))}}]),t}(r.PureComponent));Le.defaultProps={history:{},userId:""};var xe=Le,Ae=a(97),Pe=a.n(Ae),Re=(a(308),function(e){function t(){var e,a;Object(K.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(Z.a)(this,(e=Object(ee.a)(t)).call.apply(e,[this].concat(n)))).componentDidMount=function(){var e=a.props.userId;(0,a.props.userStatistingRequestAction)(e)},a}return Object(te.a)(t,e),Object($.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isListingLoading,a=e.highchartsConfigs,r=e.requestError;return n.a.createElement("div",{className:"user-statistic"},t&&n.a.createElement(se,{className:"spinner"}),!t&&!r&&n.a.createElement("div",{className:"user-statistic__charts"},n.a.createElement("div",{className:"user-statistic__chart-wrap"},n.a.createElement(Pe.a,{key:"1",className:"user-statistic__chart",config:a.highchartsDownloadsConfig})),n.a.createElement("div",{className:"user-statistic__chart-wrap"},n.a.createElement(Pe.a,{key:"2",className:"user-statistic__chart",config:a.highchartsViewsConfig})),n.a.createElement("div",{className:"user-statistic__chart-wrap"},n.a.createElement(Pe.a,{key:"3",className:"user-statistic__chart user-statistic-chart",config:a.highchartsLikesConfig}))),!t&&r&&n.a.createElement("p",null,"\u041f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435!"," ",n.a.createElement(O.a,{to:"/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e.")))}}]),t}(r.PureComponent));Re.defaultProps={userStatistingRequestAction:function(){},isListingLoading:!1,userId:"",highchartsConfigs:{highchartsDownloadsConfig:{},highchartsViewsConfig:{},highchartsLikesConfig:{}},requestError:!1};var ke={userStatistingRequestAction:function(e){return{type:"USER_STATISTIC_FETCHING",isListingLoading:!0,userId:e}}},De=Object(i.b)(function(e){return e.userstatistic},ke)(Re),Ve=(a(309),Object(r.memo)(function(){return n.a.createElement(u.a,{basename:"/React-Photo-Listing-Demo"},n.a.createElement(l.LastLocationProvider,null,n.a.createElement(m.a,{className:"header-row",style:{margin:"0px 0 30px"}},n.a.createElement(d.a,null,n.a.createElement(f.a,{className:"user-layout"},n.a.createElement(q,null)))),n.a.createElement("div",{className:"page"},n.a.createElement(p.a,null,n.a.createElement(h.a,{exact:!0,path:"/",component:function(e){return n.a.createElement(he,e)}}),n.a.createElement(h.a,{path:"/users/:id/photos",component:function(e){return n.a.createElement(xe,e)}}),n.a.createElement(h.a,{path:"/photo/:id",component:function(e){return n.a.createElement(ge,e)}}),n.a.createElement(h.a,{path:"/profile",component:function(e){return n.a.createElement(ve,e)}}),n.a.createElement(h.a,{path:"/users/:id",component:function(e){return n.a.createElement(Te,e)}})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=a(15),qe={login:{profilePhotoUrl:"",profileFullName:"",profileName:"",profileEmail:"",fetching:!1,loginError:!1},photolisting:{filters:[{id:0,label:"Editorial",filterValue:"editorial"},{id:1,label:"Following",filterValue:"following",border:!0},{id:2,label:"Wallpapers",filterValue:"wallpapers"},{id:3,label:"Textures & Patterns",filterValue:"textures"},{id:4,label:"Nature",filterValue:"nature"},{id:5,label:"Current Events",filterValue:"events"},{id:6,label:"Architecture",filterValue:"architecture"},{id:7,label:"Business & Work",filterValue:"business"},{id:8,label:"Animals",filterValue:"animals"},{id:9,label:"Travel",filterValue:"travel"},{id:10,label:"Fashion",filterValue:"fashion"},{id:11,label:"Food & Drink",filterValue:"food-drink"},{id:12,label:"Spirituality",filterValue:"spirituality"},{id:13,label:"Experimental",filterValue:"experimental"},{id:14,label:"People",filterValue:"people"},{id:15,label:"Health",filterValue:"health"},{id:16,label:"Arts & Culture",filterValue:"arts-culture"}],isListingLoading:!1,cards:[],totalCards:10,navTopItemActive:2,cardsData:{query:"wallpapers",page:1,per_page:6},photolistingRequestError:!1},userstatistic:{isListingLoading:!1,highchartsConfigs:{highchartsDownloadsConfig:{},highchartsViewsConfig:{},highchartsLikesConfig:{}},requestError:!1},photo:{isPhotoLoading:!0,photoSrc:null,userNic:"UserNic",userPortfolioUrl:"",photoDesc:"",requestError:!1}},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FETCHING":return Object(Ue.a)({},e,{fetching:!0,loginError:!1});case"LOGIN_SUCCESS":return Object(Ue.a)({},e,t.data,{fetching:!1,loginError:!1});case"LOGIN_ERROR":return Object(Ue.a)({},e,{fetching:!1,loginError:!0});case"LOGOUT":return qe.login;default:return e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CARDS_PHOTOS_FETCHING":return Object(Ue.a)({},e,{isListingLoading:!0});case"CARDS_PHOTOS_REQUEST_SUCCESS":return Object(Ue.a)({},e,t.responceObj,{photolistingRequestError:!1});case"PAGINATION_CHANGE":return Object(Ue.a)({},e,{cardsData:Object(Ue.a)({},e.cardsData,{page:t.page})});case"FILTER_ITEM_VALUE":return Object(Ue.a)({},e,{navTopItemActive:t.itemId,cardsData:Object(Ue.a)({},e.cardsData,{page:1,query:t.itemText})});case"SEARCH_TEXT":return Object(Ue.a)({},e,{navTopItemActive:t.tags?-2:e.navTopItemActive,cardsData:Object(Ue.a)({},e.cardsData,{page:1,query:t.text})});case"SEARCH_TEXT_CHANGE_INPUT_VALUE":return Object(Ue.a)({},e,{cardsData:Object(Ue.a)({},e.cardsData,{query:t.text})});case"CARDS_PHOTOS_REQUEST_ERROR":return Object(Ue.a)({},e,{isListingLoading:!1,photolistingRequestError:!0});default:return e}},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_STATISTIC_FETCHING":return Object(Ue.a)({},e,{isListingLoading:!0});case"USER_STATISTIC_REQUEST_SUCCESS":return Object(Ue.a)({},e,{highchartsConfigs:t.highchartsConfigsObject,isListingLoading:!1,requestError:!1});case"USER_STATISTIC_REQUEST_ERROR":return Object(Ue.a)({},e,{isListingLoading:!1,requestError:!0});default:return e}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PHOTO_FETCHING":return Object(Ue.a)({},e,{isPhotoLoading:!0});case"PHOTO_REQUEST_SUCCESS":return Object(Ue.a)({},e,t.responceObj,{isPhotoLoading:!1,requestError:!1});case"PHOTO_REQUEST_ERROR":return Object(Ue.a)({},e,{isPhotoLoading:!1,requestError:!0});default:return e}},Qe=Object(c.c)({login:He,photolisting:Fe,userstatistic:Ge,photo:Me}),Ye=a(26),ze=a.n(Ye),We=a(21),Je=ze.a.mark(Xe),Be=ze.a.mark(Ke);function Xe(e){var t,a,r;return ze.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=15;break}return n.prev=1,t={Authorization:"Bearer ".concat(e)},n.next=5,ye.a.get(y,{headers:t});case 5:return a=n.sent,r={profilePhotoUrl:Ce()(a,"data.profile_image.large")||C,profileName:Ce()(a,"data.first_name")||"No first name",profileFullName:Ce()(a,"data.name")||"No name",profileEmail:Ce()(a,"data.email")||"No email"},n.next=9,Object(We.b)({type:"LOGIN_SUCCESS",data:r});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(1),n.next=15,Object(We.b)({type:"LOGIN_ERROR"});case 15:case"end":return n.stop()}},Je,null,[[1,11]])}function Ke(e){var t,a,r,n,o;return ze.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(t=window.localStorage.getItem("token"))){i.next=6;break}return i.next=4,Xe(t);case 4:i.next=28;break;case 6:if(!(a=e.location.search.split("?code=")[1])){i.next=26;break}return i.prev=8,r={url:N,body:{redirect_uri:"https://psywalker.github.io/React-Photo-Listing-Demo/profile",client_secret:"90a62ecb27270b9f05f059e880d3fcd878aad1f8120c6e765f11da158d97cf40",code:a,grant_type:"authorization_code",client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}},i.next=12,ye.a.post(r.url,r.body);case 12:return n=i.sent,o=Ce()(n,"data.access_token")||!1,window.localStorage.clear(),window.localStorage.setItem("token",o),i.next=18,Xe(o);case 18:i.next=24;break;case 20:return i.prev=20,i.t0=i.catch(8),i.next=24,Object(We.b)({type:"LOGIN_ERROR"});case 24:i.next=28;break;case 26:return i.next=28,Object(We.b)({type:"LOGIN_ERROR"});case 28:case"end":return i.stop()}},Be,null,[[8,20]])}var $e=ze.a.mark(Ze);function Ze(e){var t,a,r,n;return ze.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(t=e.cardsData)){o.next=16;break}return o.prev=2,a={url:S,params:Object(Ue.a)({},t,{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"})},o.next=6,ye.a.get(a.url,{params:a.params});case 6:return r=o.sent,n={cards:Ce()(r,"data.results")||[],isListingLoading:!1,totalCards:Ce()(r,"data.total")||10},o.next=10,Object(We.b)({type:"CARDS_PHOTOS_REQUEST_SUCCESS",responceObj:n});case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(2),o.next=16,Object(We.b)({type:"CARDS_PHOTOS_REQUEST_ERROR",error:o.t0});case 16:case"end":return o.stop()}},$e,null,[[2,12]])}var et=a(67),tt=a.n(et),at=(a(312),ze.a.mark(nt)),rt=function(e){var t=Object.entries(e),a={};return t.forEach(function(e){a[e[0]]=Object(Ue.a)({chart:{type:"area"},colors:[e[1].colors],title:{text:e[1].title},xAxis:{categories:P},plotOptions:{area:{stacking:"normal",lineColor:e[1].colors,lineWidth:1,marker:{lineWidth:6,lineColor:e[1].colors}}},series:[{name:e[1].seriesName}]},R)}),a};function nt(e){var t,a,r,n,o,i,c,s;return ze.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(t=e.userId)){l.next=22;break}return l.prev=2,a=rt(A),r={url:x(t),params:{client_id:"bba0e5effd29d1c0d0957b57759a6b65f34fe4fece1188a73a4dcee69b53d3a5"}},l.next=7,ye.a.get(r.url,{params:r.params});case 7:return n=l.sent,o=Ce()(n,"data.downloads.historical.values")||[],i=Ce()(n,"data.views.historical.values")||[],c=Ce()(n,"data.likes.historical.values")||[],s={highchartsDownloadsConfig:Object(Ue.a)({},a.highchartsDownloadsConfig,{xAxis:{categories:o.map(function(e){return tt()(e.date).format("DD MMMM YYYY")})},series:[Object(Ue.a)({},a.highchartsDownloadsConfig.series[0],{data:o.map(function(e){return e.value})})]}),highchartsViewsConfig:Object(Ue.a)({},a.highchartsViewsConfig,{xAxis:{categories:i.map(function(e){return tt()(e.date).format("DD MMMM YYYY")})},series:[Object(Ue.a)({},a.highchartsViewsConfig.series[0],{data:i.map(function(e){return e.value})})]}),highchartsLikesConfig:Object(Ue.a)({},a.highchartsLikesConfig,{xAxis:{categories:c.map(function(e){return tt()(e.date).format("DD MMMM YYYY")})},series:[Object(Ue.a)({},a.highchartsLikesConfig.series[0],{data:c.map(function(e){return e.value})})]})},l.next=14,Object(We.b)({type:"USER_STATISTIC_REQUEST_SUCCESS",highchartsConfigsObject:s});case 14:l.next=20;break;case 16:return l.prev=16,l.t0=l.catch(2),l.next=20,Object(We.b)({type:"USER_STATISTIC_REQUEST_ERROR",error:l.t0});case 20:l.next=24;break;case 22:return l.next=24,Object(We.b)({type:"USER_STATISTIC_REQUEST_ERROR"});case 24:case"end":return l.stop()}},at,null,[[2,16]])}var ot=ze.a.mark(it);function it(e){var t,a,r;return ze.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.match)){n.next=15;break}return n.prev=2,n.next=5,ye.a.get(T(t));case 5:return a=n.sent,r={photoSrc:Ce()(a,"data.urls.full")||"",userNic:Ce()(a,"data.user.username")||"No Name",userPortfolioUrl:Ce()(a,"data.user.portfolio_url")||"",photoDesc:Ce()(a,"data.description")||"No Description"},n.next=9,Object(We.b)({type:"PHOTO_REQUEST_SUCCESS",responceObj:r});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(2),n.next=15,Object(We.b)({type:"PHOTO_REQUEST_ERROR",error:n.t0});case 15:case"end":return n.stop()}},ot,null,[[2,11]])}var ct=ze.a.mark(st);function st(){return ze.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=We.a,e.next=3,Object(We.c)("LOGIN_FETCHING",Ke);case 3:return e.t1=e.sent,e.next=6,Object(We.c)("CARDS_PHOTOS_FETCHING",Ze);case 6:return e.t2=e.sent,e.next=9,Object(We.c)("USER_STATISTIC_FETCHING",nt);case 9:return e.t3=e.sent,e.next=12,Object(We.c)("PHOTO_FETCHING",it);case 12:return e.t4=e.sent,e.t5=[e.t1,e.t2,e.t3,e.t4],e.next=16,(0,e.t0)(e.t5);case 16:case"end":return e.stop()}},ct)}a(315);var lt=Object(s.a)(),ut=[lt];var pt=Object(c.e)(Qe,qe,c.a.apply(void 0,ut));lt.run(st,[555]),Object(o.render)(n.a.createElement(i.a,{store:pt},n.a.createElement(Ve,null)),window.document.getElementById("root")),"serviceWorker"in window.navigator&&window.navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[162,1,2]]]);
//# sourceMappingURL=main.b7c798f9.chunk.js.map